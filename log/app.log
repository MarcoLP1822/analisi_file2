2025-05-20 16:40:52,875 [ERROR] server - Error during startup: name 'db' is not defined
2025-05-20 16:43:30,240 [ERROR] server - Error during shutdown: name 'client' is not defined
2025-05-20 16:43:45,023 [ERROR] server - Error during startup: name 'db' is not defined
2025-05-20 16:45:11,461 [ERROR] server - Error during shutdown: name 'client' is not defined
2025-05-20 16:45:13,642 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 16:45:13,813 [INFO] server - Document Validator API started successfully
2025-05-20 16:45:13,813 [INFO] server - Environment: production
2025-05-20 16:45:13,813 [INFO] server - Database: document_validator
2025-05-20 16:46:39,885 [INFO] server - Database connection closed
2025-05-20 16:46:51,132 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 16:46:51,265 [INFO] server - Document Validator API started successfully
2025-05-20 16:46:51,265 [INFO] server - Environment: production
2025-05-20 16:46:51,266 [INFO] server - Database: document_validator
2025-05-20 17:05:20,622 [INFO] server - Database connection closed
2025-05-20 17:05:23,820 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 17:05:23,992 [INFO] server - Document Validator API started successfully
2025-05-20 17:05:23,993 [INFO] server - Environment: production
2025-05-20 17:05:23,993 [INFO] server - Database: document_validator
2025-05-20 17:12:59,667 [INFO] server - Database connection closed
2025-05-20 17:13:02,925 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 17:13:33,062 [ERROR] server - Error during startup: localhost:27017: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 682c9bfea3523589478da9b8, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
2025-05-20 17:13:33,144 [INFO] server - Database connection closed
2025-05-20 17:13:35,761 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 17:14:06,327 [ERROR] server - Error during startup: localhost:27017: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 682c9c1f28ed58434a3d39ab, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
2025-05-20 17:14:06,399 [INFO] server - Database connection closed
2025-05-20 17:14:09,398 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 17:14:39,504 [ERROR] server - Error during startup: localhost:27017: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 682c9c410a927e7b67ff640d, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
2025-05-20 17:14:39,597 [INFO] server - Database connection closed
2025-05-20 17:16:44,872 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 17:17:15,456 [ERROR] server - Error during startup: localhost:27017: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 682c9cdc4633f5e7b3990e02, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
2025-05-20 17:34:45,817 [INFO] server - Database connection closed
2025-05-20 17:37:15,398 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 17:37:20,764 [ERROR] server - Error during startup: bad auth : authentication failed, full error: {'ok': 0, 'errmsg': 'bad auth : authentication failed', 'code': 8000, 'codeName': 'AtlasError'}
2025-05-20 17:39:18,213 [INFO] server - Database connection closed
2025-05-20 17:39:20,591 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 17:39:25,776 [INFO] server - Document Validator API started successfully
2025-05-20 17:39:25,777 [INFO] server - Environment: production
2025-05-20 17:39:25,777 [INFO] server - Database: document_validator
2025-05-20 17:47:40,681 [INFO] server - Database connection closed
2025-05-20 17:47:43,543 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 17:47:48,728 [INFO] server - Document Validator API started successfully
2025-05-20 17:47:48,728 [INFO] server - Environment: production
2025-05-20 17:47:48,728 [INFO] server - Database: document_validator
2025-05-20 17:48:05,974 [INFO] server - Database connection closed
2025-05-20 17:48:08,437 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-20 17:48:13,477 [INFO] server - Document Validator API started successfully
2025-05-20 17:48:13,477 [INFO] server - Environment: production
2025-05-20 17:48:13,478 [INFO] server - Database: document_validator
2025-05-21 09:46:57,408 [INFO] server - Database connection closed
2025-05-21 09:47:06,484 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-21 09:47:12,782 [INFO] server - Document Validator API started successfully
2025-05-21 09:47:12,783 [INFO] server - Environment: production
2025-05-21 09:47:12,784 [INFO] server - Database: document_validator
2025-05-21 09:49:03,243 [INFO] server - Database connection closed
2025-05-21 09:49:05,689 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-21 09:49:10,738 [INFO] server - Document Validator API started successfully
2025-05-21 09:49:10,738 [INFO] server - Environment: production
2025-05-21 09:49:10,739 [INFO] server - Database: document_validator
2025-05-21 09:49:29,007 [INFO] server - Database connection closed
2025-05-21 10:10:53,870 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-21 10:10:59,236 [INFO] server - Document Validator API started successfully
2025-05-21 10:10:59,237 [INFO] server - Environment: production
2025-05-21 10:10:59,237 [INFO] server - Database: document_validator
2025-05-21 10:23:18,562 [INFO] server - Database connection closed
2025-05-21 10:23:21,977 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-21 10:23:27,870 [INFO] server - Document Validator API started successfully
2025-05-21 10:23:27,871 [INFO] server - Environment: production
2025-05-21 10:23:27,874 [INFO] server - Database: document_validator
2025-05-21 10:34:52,531 [INFO] server - Database connection closed
2025-05-21 10:36:31,015 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-21 10:36:36,091 [INFO] server - Document Validator API started successfully
2025-05-21 10:36:36,092 [INFO] server - Environment: production
2025-05-21 10:36:36,092 [INFO] server - Database: document_validator
2025-05-21 11:41:16,552 [INFO] server - Database connection closed
2025-05-21 11:41:22,775 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-21 11:41:28,632 [INFO] server - Document Validator API started successfully
2025-05-21 11:41:28,632 [INFO] server - Environment: production
2025-05-21 11:41:28,633 [INFO] server - Database: document_validator
2025-05-21 11:42:48,685 [ERROR] server - Unhandled exception: 'dict' object has no attribute 'model_dump'
Traceback (most recent call last):
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\gzip.py", line 126, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Youcanprint1\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Youcanprint1\Desktop\AI\analisi_file2\server.py", line 874, in validate_document_endpoint
    **validation.model_dump(),
      ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'model_dump'
2025-05-21 11:45:30,832 [INFO] server - Database connection closed
2025-05-21 11:45:35,916 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-21 11:45:41,427 [INFO] server - Document Validator API started successfully
2025-05-21 11:45:41,428 [INFO] server - Environment: production
2025-05-21 11:45:41,431 [INFO] server - Database: document_validator
2025-05-21 11:46:53,092 [INFO] server - Validato 80287_POLI_IMPAGINATO_17X24_14122021.pdf in 11.12s
2025-05-21 12:03:26,427 [INFO] server - Database connection closed
2025-05-22 09:24:42,911 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-22 09:24:50,926 [INFO] server - Document Validator API started successfully
2025-05-22 09:24:50,927 [INFO] server - Environment: production
2025-05-22 09:24:50,954 [INFO] server - Database: document_validator
2025-05-22 09:25:12,964 [INFO] server - Database connection closed
2025-05-22 11:46:08,615 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-22 11:46:14,356 [INFO] server - Document Validator API started successfully
2025-05-22 11:46:14,357 [INFO] server - Environment: development
2025-05-22 11:46:14,357 [INFO] server - Database: document_validator
2025-05-22 12:08:33,046 [INFO] server - Database connection closed
2025-05-22 12:08:39,193 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-22 12:08:44,525 [INFO] server - Document Validator API started successfully
2025-05-22 12:08:44,526 [INFO] server - Environment: development
2025-05-22 12:08:44,527 [INFO] server - Database: document_validator
2025-05-22 12:08:44,722 [INFO] server - Database connection closed
2025-05-22 12:08:47,881 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-22 12:08:53,094 [INFO] server - Document Validator API started successfully
2025-05-22 12:08:53,094 [INFO] server - Environment: development
2025-05-22 12:08:53,094 [INFO] server - Database: document_validator
2025-05-22 13:37:26,474 [INFO] server - Database connection closed
2025-05-22 13:37:38,314 [INFO] document_validator - Connected to MongoDB database: document_validator
2025-05-22 13:37:44,626 [INFO] server - Document Validator API started successfully
2025-05-22 13:37:44,627 [INFO] server - Environment: development
2025-05-22 13:37:44,628 [INFO] server - Database: document_validator
2025-05-22 13:40:51,597 [INFO] server - Database connection closed
